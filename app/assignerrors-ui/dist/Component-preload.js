//@ui5-bundle ladera/fin/assignerrorsui/Component-preload.js
sap.ui.require.preload({
	"ladera/fin/assignerrorsui/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","ladera/fin/assignerrorsui/model/models"],(e,i)=>{"use strict";return e.extend("ladera.fin.assignerrorsui.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(i.createDeviceModel(),"device");this.getRouter().initialize()}})});
},
	"ladera/fin/assignerrorsui/controller/App.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller"],r=>{"use strict";return r.extend("ladera.fin.assignerrorsui.controller.App",{onInit(){}})});
},
	"ladera/fin/assignerrorsui/controller/Main.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/BusyIndicator","sap/m/MessageBox"],(e,t,r)=>{"use strict";return e.extend("ladera.fin.assignerrorsui.controller.Main",{onInit(){this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.getRoute("RouteMain").attachPatternMatched(this.onRouteMatched,this)},onRouteMatched(e){this.getView().getModel("errorModel").setData([]);this.existingData=[];this.setDefaultData(e)},async setDefaultData(e){t.show();this.existingData=await this._getSavedErrors();var r=this.getView().getModel("errorModel");var a=[];if(this.existingData){for(let e=0;e<this.existingData.length;e++){const t=this.existingData[e];var o=this.getEmptyLine();o.errorCode=t.errorcode;o.description=t.description;o.departmentId=t.department;o.emailId=t.emailId;a.push(o)}r.setData(a)}t.hide()},async _getSavedErrors(){const e=this.getOwnerComponent().getManifestObject().resolveUri(this.getOwnerComponent().getManifestEntry("sap.app").dataSources.mainService.uri);try{const a=await fetch(e+"/ErrorRecordSet",{method:"GET"});if(!a.ok){const e=await a.text();t.hide();r.error(e)}else{const e=await a.json();return e.value}}catch(e){t.hide();r.error("Error while trying to fetch existing errors")}},onEdit(e){var t=e.getSource().getParent().getBindingContext("errorModel").sPath.split("/")[1];this.enableEdit(t)},enableEdit(e){const t=this.getView().byId("re-fin-errorTable");const r=t.getItems()[e].getAggregation("cells");for(let e=0;e<r.length-2;e++){const t=r[e];t.setEditable(true)}},async onDelete(e){var t=false;var a=e.getSource().getParent().getBindingContext("errorModel").sPath.split("/")[1];const o=e.getSource().getModel("errorModel").getData()[a];const i=this.existingData.some(e=>e.errorcode===o);if(i){r.confirm("Are you sure? This entry will be permanently deleted from the database.",{actions:["Yes",r.Action.CLOSE],emphasizedAction:"CLOSE",onClose:function(e){t=true}});if(t){await this.removeEntry(o)}}else{e.getSource().getModel("errorModel").getData().splice(a,1);e.getSource().getModel("errorModel").refresh()}},async removeEntry(e){const t=this.existingData.find(t=>t.errorcode===e)},async onSave(e){t.show();var a=[];var o=this.getView().getModel("errorModel").getData();var i={};for(let e=0;e<o.length;e++){var s=o[e];var n=this.existingData.some(e=>e.errorcode===s.errorCode);if(!n){i={errorcode:s.errorCode,description:s.description,department:s.departmentId,emailId:s.emailId};a.push(this.getSavePromise(i))}}var d=[];if(a){await Promise.all(a).then(function(e,t){d.push(e)}).catch(function(e){t.hide();r.error(JSON.parse(e.responseText).error.message)});await this.setDefaultData(e);t.hide();r.success("Data saved successfully")}},getSavePromise(e){const t=this.getOwnerComponent().getManifestObject().resolveUri(this.getOwnerComponent().getManifestEntry("sap.app").dataSources.mainService.uri);return new Promise(function(r,a){$.ajax(t+"/ErrorRecordSet",{type:"POST",contentType:"application/json",data:JSON.stringify(e),success:function(e){r(e)},error:function(e){a(e)}})})},onAddItem(e){var t=this.getView().getModel("errorModel");var r=t.getData();var a=this.getEmptyLine();r.unshift(a);t.setData(r);t.refresh()},setTableProperties(){var e=this.getView().byId("re-fin-errorTable");var t=e.getItems();for(let e=0;e<t.length;e++){var r=t[e];var a=r.getAggregation("cells");var o=a[0].getValue();for(let e=0;e<a.length-2;e++){if(this.existingData.some(e=>e.errorcode===o)){a[e].setEditable(false)}else{a[e].setEditable(true)}}}},getEmptyLine(){return{errorCode:"",description:"",departmentId:"",emailId:""}}})});
},
	"ladera/fin/assignerrorsui/i18n/i18n.properties":'# This is the resource bundle for ladera.fin.assignerrorsui\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Error Assignment Application\n\n#YDES: Application description\nappDescription=Error Assignment Application\n#XTIT: Main view title\ntitle=Error Assignment Application\n\n#XFLD,48\nerrors-update.flpTitle=Error Assignment\n\n#XFLD,39\nerrors-update.flpSubtitle=Configuration\n',
	"ladera/fin/assignerrorsui/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"ladera.fin.assignerrorsui","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.16.4","toolsId":"b990b4ad-925a-4f26-8c16-9f511d00ce54"},"dataSources":{"mainService":{"uri":"assignerrors/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"errors-update":{"semanticObject":"errors","action":"update","title":"{{errors-update.flpTitle}}","subTitle":"{{errors-update.flpSubtitle}}","icon":"sap-icon://tags","info":"Tag error codes to departments","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"dependencies":{"minUI5Version":"1.133.0","libs":{"sap.m":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"ladera.fin.assignerrorsui.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"errorModel":{"type":"sap.ui.model.json.JSONModel","preload":true,"settings":{"defaultBindingMode":"TwoWay"}},"configModel":{"type":"sap.ui.model.json.JSONModel","settings":{"defaultBindingMode":"TwoWay"},"uri":"model/configurations.json","preload":true}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"ladera.fin.assignerrorsui.view"},"routes":[{"name":"RouteMain","pattern":":?query:","target":["TargetMain"]}],"targets":{"TargetMain":{"id":"Main","name":"Main"}}},"rootView":{"viewName":"ladera.fin.assignerrorsui.view.App","type":"XML","id":"App"}},"sap.cloud":{"public":true,"service":"errorassign-router"}}',
	"ladera/fin/assignerrorsui/model/models.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"ladera/fin/assignerrorsui/view/App.view.xml":'<mvc:View controllerName="ladera.fin.assignerrorsui.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"ladera/fin/assignerrorsui/view/Main.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:f="sap.f" controllerName="ladera.fin.assignerrorsui.controller.Main"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><f:DynamicPage id="re-fin-dynPage" showFooter="true"><f:content><Table id="re-fin-errorTable" \n                    width="auto"\n                    mode="MultiSelect"\n                    fixedLayout="false"\n                    inset="true"\n                    items="{errorModel>/}"><headerToolbar><OverflowToolbar ><Title id="re-fin-tabTitle" text="Errors Assigned(0)" level="H2"></Title><ToolbarSpacer ></ToolbarSpacer><Button id="re-fin-addError" type="Emphasized" icon="sap-icon://sys-add" text="Add" press="onAddItem"></Button></OverflowToolbar></headerToolbar><noData><IllustratedMessage id="re-fin-nodataMsg"\n                                        illustrationType="sapIllus-NoSearchResults"\n                                        title="No errors are assigned to departments"\n                                        description="Click on \'Add Items\' to assign errror codes to respective departments"></IllustratedMessage></noData><columns><Column><header><Label text="Error Code"></Label></header></Column><Column><header><Label text="Description"></Label></header></Column><Column ><header><Label text="Department"></Label></header></Column><Column ><header><Label text="Email Id"></Label></header></Column><Column id="re-fin-deleteColumn"></Column></columns><items><ColumnListItem ><Input editable="true" value="{errorModel>errorCode}" maxLength="10" width="auto"></Input><Input editable="true" value="{errorModel>description}" maxLength="80" width="400px"></Input><ComboBox items="{path: \'configModel>/Departments\', templateShareable: true}" \n                              editable="true" \n                              width="auto"\n                              change="onChangeofDepartment" \n                              selectedKey="{errorModel>departmentId}"><core:ListItem key="{configModel>departmentId}" text="{configModel>departmentText}"></core:ListItem></ComboBox><Input editable="true" value="{errorModel>emailId}" type="Email" width="200px"></Input><Button icon="sap-icon://delete" enabled="true" type="Reject" press="onDelete" width="auto"></Button></ColumnListItem></items></Table></f:content><f:footer><OverflowToolbar ><ToolbarSpacer /><Button id="re-fin-saveData" text="Save" type="Accept" enabled="true" press="onSave"></Button></OverflowToolbar></f:footer></f:DynamicPage></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
